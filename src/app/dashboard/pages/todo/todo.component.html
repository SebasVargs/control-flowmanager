<section class="flex flex-row justify-between z-20">
  <div class="absolute top-20 flex items-start justify-center z-0 h-20 opacity-10 pointer-events-none">
    <img class="w-4/6" src="assets/images/rb_25881.png" alt="">
  </div>
  <div class="relative">
    <!-- Botón del dropdown -->
    <button
      class="flex bg-my-color-3 w-44 text-white px-4 py-2 focus:outline-none justify-center border border-gray-100 dark:placeholder-gray-600 dark:border-gray-800"
      (click)="mainDropdown()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
      </svg>
    </button>

    <!-- Contenido del dropdown -->
    <div
      class="absolute left-0 top-0 w-44 bg-white shadow-lg transition-all duration-300 ease-in-out overflow-hidden border border-gray-100 dark:placeholder-gray-600 dark:border-gray-800"
      [ngStyle]="{ maxHeight: dropdownOpen ? height : '0px' }">
      <div class="h-screen overflow-y-auto p-4">
        <ng-container *ngFor="let item of itemsDrop" class="space-y-2 flex flex-col justify-center w-72">
          <!--Item Dropdown-->
          <button *ngIf="item.icon === 'square'; else menuLink" (click)="mainDropdown()" title="{{item.label}}"
            class="flex w-full mb-4 bg-my-color-3 text-white px-4 py-2 rounded-md focus:outline-none justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
            </svg>
          </button>

          <!--Otros Items del Dropdown-->
          <ng-template #menuLink>
            <a [routerLink]="[item.route]" title="{{item.label}}"
              class="ml-1 toogle-items flex items-center justify-start p-4 transition duration-200 hover:scale-105">
              <svg class="h-6 w-6 mr-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="item.svgPath" />
              </svg>
              <span *ngIf="dropdownOpen">{{ item.label }}</span>
            </a>
          </ng-template>

        </ng-container>
      </div>
    </div>
  </div>

  <!-- Navigation to Pages -->
  <div class="flex flex-col w-full mt-2 pl-4 z-1">
    <router-outlet></router-outlet>
  </div>

  <div class="relative inline-block text-left m-1">
    <!-- Botón que agrega Categorias -->

  </div>

  <div class="relative inline-block text-left">
    <!-- Botón que abrirá el dropdown -->
    <button type="button"
      class="inline-flex justify-center w-full rounded-md border border-gray-100 dark:placeholder-gray-600 dark:border-gray-800 py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
      (click)="configDropdown()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z" />
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
      </svg>
    </button>

    <!-- Contenedor del menú que será mostrado/ocultado -->
    <div *ngIf="configOpen"
      class="absolute right-0 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">
      <div *ngFor="let config of configItems" class="py-1 flex flex-row justify-between p-4 mt-3 mb-3 cursor-pointer">

        <button
          *ngIf="config.icon === 'logout'; else menuLink"
          (click)="openLogoutModal()"
          title="{{ config.label }}"
          class="flex flex-row">
          <svg class="h-6 w-6 mr-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="config.svgPath" />
          </svg>
          <span *ngIf="configOpen">{{ config.label }}</span>
        </button>

        <ng-template #menuLink>
          <a [routerLink]="[config.route]" title="{{ config.label }}" class="flex flex-row justify-between">
            <svg class="h-6 w-6 mr-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="config.svgPath" />
            </svg>
              <span *ngIf="configOpen">{{ config.label }}</span>
            </a>
        </ng-template>
      </div>
    </div>
  </div>
</section>


<!-- Modal (Ventana Emergente) -->
<section
  *ngIf="isOpenLogoutModal"
  class="fixed inset-0 bg-my-color-1 bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-my-color-1 text-gray-100 rounded-lg shadow-lg w-96 p-6">
    <!-- Título -->
    <h1 class="text-xl font-semibold mb-4 text-center">Cerrar Sesión</h1>
    <p class="text-sm text-gray-300 text-center mb-6">
      ¿Estás seguro de que deseas cerrar sesión?
    </p>

    <!-- Botones -->
    <div class="flex justify-center space-x-4">
      <button
        (click)="acceptLogoutModal()"
        class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition duration-200">
        Aceptar
      </button>
      <button
        (click)="closeLogoutModal()"
        class="bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200">
        Cancelar
      </button>
    </div>
  </div>
</section>
